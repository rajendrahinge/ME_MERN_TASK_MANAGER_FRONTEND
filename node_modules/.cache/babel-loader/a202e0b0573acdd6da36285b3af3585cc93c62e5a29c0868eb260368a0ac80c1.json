{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { createTask, updateTask } from \"../service\";\nexport const useTaskManager = () => {\n  _s();\n  const [taskData, setTaskData] = useState(null);\n  const [file, setFile] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [open, setOpen] = useState(false);\n  const handleAddClick = () => {\n    setIsEditing(false);\n    setTaskData({\n      title: \"\",\n      description: \"\",\n      deadline: \"\",\n      status: \"TODO\"\n    });\n    setFile(null);\n    setOpen(true);\n  };\n  const handleEditClick = task => {\n    setIsEditing(true);\n    setTaskData(task);\n    setFile(null);\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n    setTaskData(null);\n    setFile(null);\n  };\n  const handleSave = async refreshTasks => {\n    const formData = new FormData();\n    formData.append(\"title\", taskData.title);\n    formData.append(\"description\", taskData.description);\n    formData.append(\"deadline\", taskData.deadline);\n    formData.append(\"status\", taskData.status);\n    if (file) formData.append(\"pdf\", file);\n    try {\n      if (isEditing) {\n        await updateTask(taskData._id, {\n          title: taskData.title,\n          description: taskData.description,\n          deadline: taskData.deadline\n        });\n      } else {\n        await createTask(formData);\n      }\n      await refreshTasks();\n      handleClose();\n    } catch (err) {\n      console.error(\"Error saving task:\", err);\n    }\n  };\n  const handleFileChange = event => {\n    if (event.target.files.length) {\n      setFile(event.target.files[0]);\n    } else {\n      setFile(null);\n    }\n  };\n  return {\n    taskData,\n    file,\n    isEditing,\n    open,\n    handleAddClick,\n    handleEditClick,\n    handleClose,\n    handleSave,\n    handleFileChange,\n    setTaskData\n  };\n};\n_s(useTaskManager, \"1/y6Y3CgT6WAi4psStaIe92XnRM=\");","map":{"version":3,"names":["useState","createTask","updateTask","useTaskManager","_s","taskData","setTaskData","file","setFile","isEditing","setIsEditing","open","setOpen","handleAddClick","title","description","deadline","status","handleEditClick","task","handleClose","handleSave","refreshTasks","formData","FormData","append","_id","err","console","error","handleFileChange","event","target","files","length"],"sources":["C:/rajendra/crio/taskManager/frontend/src/hooks/useTaskManager.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { createTask, updateTask } from \"../service\";\r\n\r\nexport const useTaskManager = () => {\r\n  const [taskData, setTaskData] = useState(null);\r\n  const [file, setFile] = useState(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleAddClick = () => {\r\n    setIsEditing(false);\r\n    setTaskData({ title: \"\", description: \"\", deadline: \"\", status: \"TODO\" });\r\n    setFile(null);\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleEditClick = (task) => {\r\n    setIsEditing(true);\r\n    setTaskData(task);\r\n    setFile(null);\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setTaskData(null);\r\n    setFile(null);\r\n  };\r\n\r\n  const handleSave = async (refreshTasks) => {\r\n    const formData = new FormData();\r\n    formData.append(\"title\", taskData.title);\r\n    formData.append(\"description\", taskData.description);\r\n    formData.append(\"deadline\", taskData.deadline);\r\n    formData.append(\"status\", taskData.status);\r\n    if (file) formData.append(\"pdf\", file);\r\n\r\n    try {\r\n      if (isEditing) {\r\n        await updateTask(taskData._id, {\r\n          title: taskData.title,\r\n          description: taskData.description,\r\n          deadline: taskData.deadline,\r\n        });\r\n      } else {\r\n        await createTask(formData);\r\n      }\r\n      await refreshTasks();\r\n      handleClose();\r\n    } catch (err) {\r\n      console.error(\"Error saving task:\", err);\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (event) => {\r\n    if (event.target.files.length) {\r\n      setFile(event.target.files[0]);\r\n    } else {\r\n      setFile(null);\r\n    }\r\n  };\r\n\r\n  return {\r\n    taskData,\r\n    file,\r\n    isEditing,\r\n    open,\r\n    handleAddClick,\r\n    handleEditClick,\r\n    handleClose,\r\n    handleSave,\r\n    handleFileChange,\r\n    setTaskData,\r\n  };\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}